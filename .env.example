# DbRheo Environment Configuration File
# API Configuration (at least one API key is required)
# After pulling, configure this section - no other modifications needed
GOOGLE_API_KEY={your_google_api_key_here}
# Alternatively, use DBRHEO_API_KEY=your_google_api_key_here

# Claude API (Anthropic)
ANTHROPIC_API_KEY={your_anthropic_api_key_here}

# OpenAI API
OPENAI_API_KEY={your_openai_api_key_here}


# OPENAI_API_BASE=https://api.openai.com/v1

# Model Configuration (Default: gemini-2.5-flash)
# Recommended: Comment out this line and use /model command to auto-save to config.yaml
# Using /model command will automatically save the model setting to config.yaml
#DBRHEO_MODEL=gemini-2.5-flash

# Project-specific Prompt Configuration (Optional)
# Load project-specific prompts from PROJECT.md or custom file
# Priority: AGENT_PROJECT_PROMPT > ./PROJECT.md > ./AGENT.md > ~/.dbrheo/PROJECT.md
# Example: AGENT_PROJECT_PROMPT=/path/to/my_project_prompts.md
# Leave commented to auto-detect PROJECT.md in current directory
AGENT_PROJECT_PROMPT=./PROMPT.md

# System Prompt Override (Optional)
# Completely replace the core system prompt with custom file
# Example: DATABASE_AGENT_SYSTEM_MD=/path/to/system_prompt.md
# Use DATABASE_AGENT_SYSTEM_MD=1 to load from ~/.dbrheo/database_system.md
#DATABASE_AGENT_SYSTEM_MD=false

# Server Configuration
DBRHEO_HOST=localhost
DBRHEO_PORT=8000
DBRHEO_DEBUG=true

# Logging Configuration
DBRHEO_LOG_LEVEL=INFO

# Agent Configuration
DBRHEO_MAX_TURNS=100
DBRHEO_COMPRESSION_THRESHOLD=0.7
DBRHEO_AUTO_EXECUTE=false
DBRHEO_ALLOW_DANGEROUS=false

# Monitoring Configuration (Optional)
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_SERVICE_NAME=dbrheo

# Code Execution Tool Configuration (Optional)
# CODE_EXECUTION_LANGUAGES=python,javascript,shell,sql
# CODE_EXECUTION_MAX_OUTPUT=1048576
# CODE_EXECUTION_TEMP_DIR=/tmp

# Shell Tool Security Configuration (Optional)
# SHELL_WHITELIST=git,ls,pwd,cat,grep,find,ps,df,du,whoami,mysql,mysqldump,psql,pg_dump
# SHELL_BLACKLIST=rm,sudo,chmod,mkfs,format,fdisk,dd,reboot,shutdown
# SHELL_DB_COMMANDS=mysql,psql,sqlite3,mysqldump,pg_dump,mongodump,redis-cli
# SHELL_MAX_OUTPUT=1048576
# SHELL_STRICT_WHITELIST=false

# Enhanced Input Configuration
DBRHEO_ENHANCED_INPUT=true

# Multi-line Input Configuration
DBRHEO_MULTILINE_ENABLED=true
DBRHEO_MULTILINE_INDICATOR=...
DBRHEO_MAX_DISPLAY_LINES=10

# Multi-line Input Mode Configuration
DBRHEO_MULTILINE_END_MODE=empty_line  # empty_line or double_empty
DBRHEO_AUTO_MULTILINE=true  # Auto-detection of SQL and unclosed quotes/brackets
DBRHEO_AUTO_PASTE_DETECTION=true  # Auto-detection of multi-line paste (core feature)
DBRHEO_MIN_PASTE_LINES=2  # Minimum lines to detect as paste
DBRHEO_MAX_PASTE_LINES=100  # Maximum lines limit for paste content
DBRHEO_SHOW_PASTE_PREVIEW=true  # Show paste preview
DBRHEO_DEBUG_PASTE=true  # Debug paste detection

# Windows-specific Configuration
DBRHEO_PASTE_MAX_ATTEMPTS=5  # Maximum collection attempts in Windows environment
DBRHEO_PASTE_WAIT_TIME=0.5  # Wait time in Windows environment (seconds)

# Configurable Triggers and Keywords
DBRHEO_SQL_KEYWORDS=SELECT,INSERT,UPDATE,DELETE,CREATE,ALTER,DROP,WITH,EXPLAIN,DESCRIBE
# Multi-line triggers: triple_quote_double("""), triple_quote_single('''), backticks(```), angle_brackets(<<<)
DBRHEO_MULTILINE_TRIGGERS=triple_quote_double,triple_quote_single,backticks,angle_brackets

# UI Style Configuration
DBRHEO_PROMPT_STYLE=[bold cyan]{prompt}[/bold cyan]
DBRHEO_CONTINUATION_STYLE=[dim]{indicator}[/dim]
DBRHEO_SQL_HINT=[dim]SQL statement detected, entering multi-line mode (end with empty line)[/dim]
DBRHEO_UNCLOSED_HINT=[dim]Unclosed quotes/brackets detected, entering multi-line mode[/dim]
DBRHEO_BLOCK_HINT=[dim]Multi-line input mode, enter {marker} again to end[/dim]
DBRHEO_PASTE_HINT=[dim]Multi-line paste content detected ({lines} lines), processing automatically...[/dim]

# Disable Color Output
DBRHEO_NO_COLOR=true

# Token Usage Warning Threshold
DBRHEO_TOKEN_WARNING_THRESHOLD=200000

# Database Connection Environment Variables (Optional)
# Used in connection strings with environment variables to avoid hardcoded passwords
# Example: mysql://admin:${DB_PASSWORD}@host:3306/database
# DB_PASSWORD=your_secure_password_here
# DB_USER=your_database_user
# DB_HOST=your_database_host
# DB_NAME=your_database_name

# SSH Tunnel Configuration (Enterprise Database Connections)
# SSH_BASTION_HOST=bastion.company.com
# SSH_BASTION_USER=ec2-user
# SSH_KEY_PATH=~/.ssh/production-key.pem

# Cloud Database Authentication (Examples)
# AWS_RDS_ENDPOINT=mydb.123456.us-east-1.rds.amazonaws.com
# AZURE_DB_SERVER=myserver.database.windows.net
# GCP_CLOUDSQL_INSTANCE=project:region:instance